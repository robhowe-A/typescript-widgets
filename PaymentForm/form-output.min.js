//--Copyright (c) Robert A. Howell  2026
import secrets from"/secret-encrypt.js";import SecureForm from"/form-submit.js";(()=>{const e=document.forms.PIF.querySelector("#PIFIM");SecureForm.Initialize(e);const t=document.forms.PIF.querySelectorAll("fieldset input[data-validate]"),r=document.forms.PIF.querySelector("#PIFS"),a=t=>{let a,n=Object;switch(t instanceof InputEvent||t instanceof Event?(t.preventDefault(),a=t.target):a=t,a.dataset.validate){case"name":n=r.querySelector('[data-id="validated-name"]').textContent=a.value,secrets.bus.encrypt(a.value,e.querySelector('[data-id="encrypted-name"]'),"encrypted-name");break;case"number":n=r.querySelector('[data-id="validated-number"]').textContent=a.value,secrets.bus.encrypt(a.value,e.querySelector('[data-id="encrypted-number"]'),"encrypted-number");break;case"code":n=r.querySelector('[data-id="validated-code"]').textContent=a.value,secrets.bus.encrypt(a.value,e.querySelector('[data-id="encrypted-code"]'),"encrypted-code");break;case"month":n=r.querySelector('[data-id="validated-month"]').textContent=a.value,secrets.bus.encrypt(a.value,e.querySelector('[data-id="encrypted-month"]'),"encrypted-month")}};t.forEach(e=>{a(e),e.addEventListener("input",a)})})();